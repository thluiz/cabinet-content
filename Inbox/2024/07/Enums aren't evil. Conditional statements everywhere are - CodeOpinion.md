---
created: 2024-07-06T17:30:26 (UTC -03:00)
tags: []
source: https://codeopinion.com/enums-arent-evil-conditional-statements-everywhere-are/?lidx=15&wpid=490024&mkt_tok=NDI2LVFWRC0xMTQAAAGUIX8mSJfR5Zy24YOjnRWWl3Q35K27EE3us_HO5D29l0Q5vfB6DpFJWpS4Yc0oBN77vkOQ3sIqwQGMJxToyjcU_pn3B6Wc5iadRU60U_c9vPZKdjd5
author: Derek Comartin
---

# Enums aren't evil. Conditional statements everywhere are - CodeOpinion

> ## Excerpt
> Conditional statements (if/switch) against enums littered everywhere? There are alternative solutions, but it depends on your context.

---
_**Sponsor:** Do you build complex software systems? See how NServiceBus makes it easier to design, build, and manage software systems that use message queues to achieve loose coupling. [Get started for free](https://go.particular.net/codeopinion)._

Are you seeing the same conditional statements (if/switch) against enums littered everywhere? There are different ways of handling that, but a lot of it comes down to your context. Conditionals around type checking, extension methods, Inheritance, and Polymorphism are all options.

## YouTube

Check out my [YouTube channel](https://www.youtube.com/channel/UC3RKA4vunFAfrfxiJhPEplw), where I post all kinds of content accompanying my posts, including this video showing everything in this post.

[](https://www.youtube.com/watch?v=QoK7jSZ-viw "Play video "Enums aren't evil. Conditionals everywhere are"")

The original examples of this problem come from a [video by Nick Cosentino](https://www.youtube.com/watch?v=xsY9tyRbCVk), which he tagged me in. The gist is that there are a lot of conditional, in this case “if statements,” throughout a codebase and enums being passed around deeper through the call stack.

In the example below, the OfferrngType of a Product is used to determine whether it should have a downloadable URL and filename. However, since only templates, ebooks, and offline courses support this, other types, such as books or courses, will return null.

<table data-hpc="" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-lang="C#" data-tagsearch-path="Original.cs"><tbody><tr><td id="file-original-cs-L1" data-line-number="1"></td><td id="file-original-cs-LC1"><span>public</span> <span>enum</span> <span>OfferingType</span></td></tr><tr><td id="file-original-cs-L2" data-line-number="2"></td><td id="file-original-cs-LC2"><span>{</span></td></tr><tr><td id="file-original-cs-L3" data-line-number="3"></td><td id="file-original-cs-LC3"><span>Course</span><span>,</span></td></tr><tr><td id="file-original-cs-L4" data-line-number="4"></td><td id="file-original-cs-LC4"><span>Ebook</span><span>,</span></td></tr><tr><td id="file-original-cs-L5" data-line-number="5"></td><td id="file-original-cs-LC5"><span>Book</span><span>,</span></td></tr><tr><td id="file-original-cs-L6" data-line-number="6"></td><td id="file-original-cs-LC6"><span>Template</span><span>,</span></td></tr><tr><td id="file-original-cs-L7" data-line-number="7"></td><td id="file-original-cs-LC7"><span>OfflineCourse</span><span>,</span></td></tr><tr><td id="file-original-cs-L8" data-line-number="8"></td><td id="file-original-cs-LC8"><span>}</span></td></tr><tr><td id="file-original-cs-L9" data-line-number="9"></td><td id="file-original-cs-LC9"></td></tr><tr><td id="file-original-cs-L10" data-line-number="10"></td><td id="file-original-cs-LC10"><span>public</span> <span>sealed</span> <span>record</span> <span>Product</span><span>(</span><span>int</span> <span>Id</span><span>,</span> <span>OfferingType</span> <span>Type</span><span>)</span><span>;</span></td></tr><tr><td id="file-original-cs-L11" data-line-number="11"></td><td id="file-original-cs-LC11"></td></tr><tr><td id="file-original-cs-L12" data-line-number="12"></td><td id="file-original-cs-LC12"><span>public</span> <span>sealed</span> <span>class</span> <span>ProductHandler</span><span>(</span>ResourcesHelper _resourcesHelper<span>)</span></td></tr><tr><td id="file-original-cs-L13" data-line-number="13"></td><td id="file-original-cs-LC13"><span>{</span></td></tr><tr><td id="file-original-cs-L14" data-line-number="14"></td><td id="file-original-cs-LC14"><span>public</span> <span>void</span> <span>DoStuff</span><span>(</span><span>Product</span> <span>product</span><span>)</span></td></tr><tr><td id="file-original-cs-L15" data-line-number="15"></td><td id="file-original-cs-LC15"><span>{</span></td></tr><tr><td id="file-original-cs-L16" data-line-number="16"></td><td id="file-original-cs-LC16"><span>if</span> <span>(</span>product<span>.</span>Type <span>==</span> OfferingType<span>.</span>Template <span>||</span></td></tr><tr><td id="file-original-cs-L17" data-line-number="17"></td><td id="file-original-cs-LC17">product<span>.</span>Type <span>==</span> OfferingType<span>.</span>Ebook <span>||</span></td></tr><tr><td id="file-original-cs-L18" data-line-number="18"></td><td id="file-original-cs-LC18">product<span>.</span>Type <span>==</span> OfferingType<span>.</span>OfflineCourse<span>)</span></td></tr><tr><td id="file-original-cs-L19" data-line-number="19"></td><td id="file-original-cs-LC19"><span>{</span></td></tr><tr><td id="file-original-cs-L20" data-line-number="20"></td><td id="file-original-cs-LC20"><span>var</span> <span>fileName</span> <span>=</span> _resourcesHelper<span>.</span><span>GetDefaultDownloadFileName</span><span>(</span>product<span>.</span>Type<span>)</span><span>;</span></td></tr><tr><td id="file-original-cs-L21" data-line-number="21"></td><td id="file-original-cs-LC21"><span>var</span> <span>downloadUrl</span> <span>=</span> _resourcesHelper<span>.</span><span>GetDownloadUrl</span><span>(</span>product<span>.</span>Type<span>)</span><span>;</span></td></tr><tr><td id="file-original-cs-L22" data-line-number="22"></td><td id="file-original-cs-LC22"><span>}</span></td></tr><tr><td id="file-original-cs-L23" data-line-number="23"></td><td id="file-original-cs-LC23"><span>}</span></td></tr><tr><td id="file-original-cs-L24" data-line-number="24"></td><td id="file-original-cs-LC24"><span>}</span></td></tr><tr><td id="file-original-cs-L25" data-line-number="25"></td><td id="file-original-cs-LC25"></td></tr><tr><td id="file-original-cs-L26" data-line-number="26"></td><td id="file-original-cs-LC26"><span>public</span> <span>sealed</span> <span>class</span> <span>ResourcesHelper</span></td></tr><tr><td id="file-original-cs-L27" data-line-number="27"></td><td id="file-original-cs-LC27"><span>{</span></td></tr><tr><td id="file-original-cs-L28" data-line-number="28"></td><td id="file-original-cs-LC28"><span>public</span> <span><span>string</span><span>?</span></span> <span>GetDownloadUrl</span><span>(</span><span>OfferingType</span> <span>offeringType</span><span>)</span></td></tr><tr><td id="file-original-cs-L29" data-line-number="29"></td><td id="file-original-cs-LC29"><span>{</span></td></tr><tr><td id="file-original-cs-L30" data-line-number="30"></td><td id="file-original-cs-LC30"><span>if</span> <span>(</span><span>offeringType</span> <span>==</span> OfferingType<span>.</span>Template <span>||</span></td></tr><tr><td id="file-original-cs-L31" data-line-number="31"></td><td id="file-original-cs-LC31"><span>offeringType</span> <span>==</span> OfferingType<span>.</span>Ebook <span>||</span></td></tr><tr><td id="file-original-cs-L32" data-line-number="32"></td><td id="file-original-cs-LC32"><span>offeringType</span> <span>==</span> OfferingType<span>.</span>OfflineCourse<span>)</span></td></tr><tr><td id="file-original-cs-L33" data-line-number="33"></td><td id="file-original-cs-LC33"><span>{</span></td></tr><tr><td id="file-original-cs-L34" data-line-number="34"></td><td id="file-original-cs-LC34"><span>// some code to do this...</span></td></tr><tr><td id="file-original-cs-L35" data-line-number="35"></td><td id="file-original-cs-LC35"><span>return</span> <span><span>"</span>TODO: get the download URL<span>"</span></span><span>;</span></td></tr><tr><td id="file-original-cs-L36" data-line-number="36"></td><td id="file-original-cs-LC36"><span>}</span></td></tr><tr><td id="file-original-cs-L37" data-line-number="37"></td><td id="file-original-cs-LC37"></td></tr><tr><td id="file-original-cs-L38" data-line-number="38"></td><td id="file-original-cs-LC38"><span>return</span> <span>null</span><span>;</span></td></tr><tr><td id="file-original-cs-L39" data-line-number="39"></td><td id="file-original-cs-LC39"><span>}</span></td></tr><tr><td id="file-original-cs-L40" data-line-number="40"></td><td id="file-original-cs-LC40"></td></tr><tr><td id="file-original-cs-L41" data-line-number="41"></td><td id="file-original-cs-LC41"><span>public</span> <span><span>string</span><span>?</span></span> <span>GetDefaultDownloadFileName</span><span>(</span><span>OfferingType</span> <span>offeringType</span><span>)</span></td></tr><tr><td id="file-original-cs-L42" data-line-number="42"></td><td id="file-original-cs-LC42"><span>{</span></td></tr><tr><td id="file-original-cs-L43" data-line-number="43"></td><td id="file-original-cs-LC43"><span>if</span> <span>(</span><span>offeringType</span> <span>==</span> OfferingType<span>.</span>Template <span>||</span></td></tr><tr><td id="file-original-cs-L44" data-line-number="44"></td><td id="file-original-cs-LC44"><span>offeringType</span> <span>==</span> OfferingType<span>.</span>Ebook <span>||</span></td></tr><tr><td id="file-original-cs-L45" data-line-number="45"></td><td id="file-original-cs-LC45"><span>offeringType</span> <span>==</span> OfferingType<span>.</span>OfflineCourse<span>)</span></td></tr><tr><td id="file-original-cs-L46" data-line-number="46"></td><td id="file-original-cs-LC46"><span>{</span></td></tr><tr><td id="file-original-cs-L47" data-line-number="47"></td><td id="file-original-cs-LC47"><span>// some code to do this...</span></td></tr><tr><td id="file-original-cs-L48" data-line-number="48"></td><td id="file-original-cs-LC48"><span>return</span> <span><span>"</span>TODO: get the file name<span>"</span></span><span>;</span></td></tr><tr><td id="file-original-cs-L49" data-line-number="49"></td><td id="file-original-cs-LC49"><span>}</span></td></tr><tr><td id="file-original-cs-L50" data-line-number="50"></td><td id="file-original-cs-LC50"></td></tr><tr><td id="file-original-cs-L51" data-line-number="51"></td><td id="file-original-cs-LC51"><span>return</span> <span>null</span><span>;</span></td></tr><tr><td id="file-original-cs-L52" data-line-number="52"></td><td id="file-original-cs-LC52"><span>}</span></td></tr><tr><td id="file-original-cs-L53" data-line-number="53"></td><td id="file-original-cs-LC53"><span>}</span></td></tr></tbody></table>

As mentioned, The OfferingType is passed along as an argument to other methods, which ultimately end up doing the exact same conditional check.

A solution in Nick’s video is not to have the conditionals but instead query a database for that information. If there are no records, then return null.

<table data-hpc="" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-lang="C#" data-tagsearch-path="Downloadable.cs"><tbody><tr><td id="file-downloadable-cs-L1" data-line-number="1"></td><td id="file-downloadable-cs-LC1"><span>public</span> <span>sealed</span> <span>record</span> <span>DownloadableResource</span><span>(</span></td></tr><tr><td id="file-downloadable-cs-L2" data-line-number="2"></td><td id="file-downloadable-cs-LC2"><span>int</span> <span>Id</span><span>,</span></td></tr><tr><td id="file-downloadable-cs-L3" data-line-number="3"></td><td id="file-downloadable-cs-LC3"><span>int</span> <span>ProductId</span><span>,</span></td></tr><tr><td id="file-downloadable-cs-L4" data-line-number="4"></td><td id="file-downloadable-cs-LC4"><span>string</span> <span>DownloadUrl</span><span>,</span></td></tr><tr><td id="file-downloadable-cs-L5" data-line-number="5"></td><td id="file-downloadable-cs-LC5"><span>string</span> <span>DefaultDownloadFilename</span><span>)</span><span>;</span></td></tr><tr><td id="file-downloadable-cs-L6" data-line-number="6"></td><td id="file-downloadable-cs-LC6"></td></tr><tr><td id="file-downloadable-cs-L7" data-line-number="7"></td><td id="file-downloadable-cs-LC7"><span>public</span> <span>sealed</span> <span>class</span> <span>ProductHandler2</span><span>(</span>ResourcesHelper2 _resourcesHelper<span>)</span></td></tr><tr><td id="file-downloadable-cs-L8" data-line-number="8"></td><td id="file-downloadable-cs-LC8"><span>{</span></td></tr><tr><td id="file-downloadable-cs-L9" data-line-number="9"></td><td id="file-downloadable-cs-LC9"><span>public</span> <span>void</span> <span>DoStuff</span><span>(</span><span>Product</span> <span>product</span><span>)</span></td></tr><tr><td id="file-downloadable-cs-L10" data-line-number="10"></td><td id="file-downloadable-cs-LC10"><span>{</span></td></tr><tr><td id="file-downloadable-cs-L11" data-line-number="11"></td><td id="file-downloadable-cs-LC11"><span>var</span> <span>downloadableResource</span> <span>=</span> _resourcesHelper<span>.</span><span>GetDownloadable</span><span>(</span>product<span>.</span>Id<span>)</span><span>;</span></td></tr><tr><td id="file-downloadable-cs-L12" data-line-number="12"></td><td id="file-downloadable-cs-LC12"><span>// do stuff with downloadable resource</span></td></tr><tr><td id="file-downloadable-cs-L13" data-line-number="13"></td><td id="file-downloadable-cs-LC13"><span>}</span></td></tr><tr><td id="file-downloadable-cs-L14" data-line-number="14"></td><td id="file-downloadable-cs-LC14"><span>}</span></td></tr><tr><td id="file-downloadable-cs-L15" data-line-number="15"></td><td id="file-downloadable-cs-LC15"></td></tr><tr><td id="file-downloadable-cs-L16" data-line-number="16"></td><td id="file-downloadable-cs-LC16"><span>public</span> <span>sealed</span> <span>class</span> <span>ResourcesHelper2</span></td></tr><tr><td id="file-downloadable-cs-L17" data-line-number="17"></td><td id="file-downloadable-cs-LC17"><span>{</span></td></tr><tr><td id="file-downloadable-cs-L18" data-line-number="18"></td><td id="file-downloadable-cs-LC18"><span>public</span> <span>DownloadableResource<span>?</span></span> <span>GetDownloadable</span><span>(</span><span>int</span> <span>productId</span><span>)</span></td></tr><tr><td id="file-downloadable-cs-L19" data-line-number="19"></td><td id="file-downloadable-cs-LC19"><span>{</span></td></tr><tr><td id="file-downloadable-cs-L20" data-line-number="20"></td><td id="file-downloadable-cs-LC20"><span>// TODO: go fetch this from the DB or return null...</span></td></tr><tr><td id="file-downloadable-cs-L21" data-line-number="21"></td><td id="file-downloadable-cs-LC21"><span>}</span></td></tr><tr><td id="file-downloadable-cs-L22" data-line-number="22"></td><td id="file-downloadable-cs-LC22"><span>}</span></td></tr></tbody></table>

## Runtime

The solution from Nick’s video above is moving the conditional from in-code at design time (programming) to runtime. The potential problem with this is unnecessary database calls (I/O). It depends on our context. If we have 1000s of products, but only a handful have a download URL, then we’re making many useless DB calls.

## Types, Inheritance, Polymorphism, Extensions

Another option is using different types to represent a specific product type rather than an enum. So we have an abstract Product class and other classes that inherit it, such as Template, Ebook, and OfflineCourse.

The problem I have with this is that it’s really not much different from enums, as we still have to do a conditional check, just not on the enum but rather on type checking.

<table data-hpc="" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-lang="C#" data-tagsearch-path="Types.cs"><tbody><tr><td id="file-types-cs-L1" data-line-number="1"></td><td id="file-types-cs-LC1"><span>public</span> <span>abstract</span> <span>class</span> <span>Product</span><span>(</span><span>int</span> id<span>)</span></td></tr><tr><td id="file-types-cs-L2" data-line-number="2"></td><td id="file-types-cs-LC2"><span>{</span></td></tr><tr><td id="file-types-cs-L3" data-line-number="3"></td><td id="file-types-cs-LC3"><span>public</span> <span>int</span> <span>Id</span> <span>{</span> <span>get</span><span>;</span> <span>}</span> <span>=</span> id<span>;</span></td></tr><tr><td id="file-types-cs-L4" data-line-number="4"></td><td id="file-types-cs-LC4"><span>}</span></td></tr><tr><td id="file-types-cs-L5" data-line-number="5"></td><td id="file-types-cs-LC5"><span>public</span> <span>class</span> <span>Template</span><span>(</span><span>int</span> id<span>)</span> <span>:</span> <span>Product</span><span>(</span>id<span>)</span> <span>{</span> <span>}</span></td></tr><tr><td id="file-types-cs-L6" data-line-number="6"></td><td id="file-types-cs-LC6"><span>public</span> <span>class</span> <span>Ebook</span><span>(</span><span>int</span> id<span>)</span> <span>:</span> <span>Product</span><span>(</span>id<span>)</span> <span>{</span> <span>}</span></td></tr><tr><td id="file-types-cs-L7" data-line-number="7"></td><td id="file-types-cs-LC7"><span>public</span> <span>class</span> <span>OfflineCourse</span><span>(</span><span>int</span> id<span>)</span> <span>:</span> <span>Product</span><span>(</span>id<span>)</span> <span>{</span> <span>}</span></td></tr><tr><td id="file-types-cs-L8" data-line-number="8"></td><td id="file-types-cs-LC8"></td></tr><tr><td id="file-types-cs-L9" data-line-number="9"></td><td id="file-types-cs-LC9"><span>public</span> <span>sealed</span> <span>class</span> <span>ProductHandler</span><span>(</span>ResourcesHelper resourcesHelper<span>)</span></td></tr><tr><td id="file-types-cs-L10" data-line-number="10"></td><td id="file-types-cs-LC10"><span>{</span></td></tr><tr><td id="file-types-cs-L11" data-line-number="11"></td><td id="file-types-cs-LC11"><span>public</span> <span>void</span> <span>DoStuff</span><span>(</span><span>Product</span> <span>product</span><span>)</span></td></tr><tr><td id="file-types-cs-L12" data-line-number="12"></td><td id="file-types-cs-LC12"><span>{</span></td></tr><tr><td id="file-types-cs-L13" data-line-number="13"></td><td id="file-types-cs-LC13"><span>if</span> <span>(</span>product <span>is</span> <span>Template</span> <span>||</span></td></tr><tr><td id="file-types-cs-L14" data-line-number="14"></td><td id="file-types-cs-LC14">product <span>is</span> Ebook<span>||</span></td></tr><tr><td id="file-types-cs-L15" data-line-number="15"></td><td id="file-types-cs-LC15">product <span>is</span> OfflineCourse<span>)</span></td></tr><tr><td id="file-types-cs-L16" data-line-number="16"></td><td id="file-types-cs-LC16"><span>{</span></td></tr><tr><td id="file-types-cs-L17" data-line-number="17"></td><td id="file-types-cs-LC17"><span>var</span> <span>fileName</span> <span>=</span> resourcesHelper<span>.</span><span>GetDefaultDownloadFileName</span><span>(</span>product<span>)</span><span>;</span></td></tr><tr><td id="file-types-cs-L18" data-line-number="18"></td><td id="file-types-cs-LC18"><span>var</span> <span>downloadUrl</span> <span>=</span> resourcesHelper<span>.</span><span>GetDownloadUrl</span><span>(</span>product<span>)</span><span>;</span></td></tr><tr><td id="file-types-cs-L19" data-line-number="19"></td><td id="file-types-cs-LC19"><span>}</span></td></tr><tr><td id="file-types-cs-L20" data-line-number="20"></td><td id="file-types-cs-LC20"><span>}</span></td></tr><tr><td id="file-types-cs-L21" data-line-number="21"></td><td id="file-types-cs-LC21"><span>}</span></td></tr><tr><td id="file-types-cs-L22" data-line-number="22"></td><td id="file-types-cs-LC22"></td></tr><tr><td id="file-types-cs-L23" data-line-number="23"></td><td id="file-types-cs-LC23"><span>public</span> <span>sealed</span> <span>class</span> <span>ResourcesHelper</span></td></tr><tr><td id="file-types-cs-L24" data-line-number="24"></td><td id="file-types-cs-LC24"><span>{</span></td></tr><tr><td id="file-types-cs-L25" data-line-number="25"></td><td id="file-types-cs-LC25"><span>public</span> <span><span>string</span><span>?</span></span> <span>GetDownloadUrl</span><span>(</span><span>Product</span> <span>product</span><span>)</span></td></tr><tr><td id="file-types-cs-L26" data-line-number="26"></td><td id="file-types-cs-LC26"><span>{</span></td></tr><tr><td id="file-types-cs-L27" data-line-number="27"></td><td id="file-types-cs-LC27"><span>if</span> <span>(</span>product <span>is</span> <span>Template</span> <span>||</span></td></tr><tr><td id="file-types-cs-L28" data-line-number="28"></td><td id="file-types-cs-LC28">product <span>is</span> Ebook<span>||</span></td></tr><tr><td id="file-types-cs-L29" data-line-number="29"></td><td id="file-types-cs-LC29">product <span>is</span> OfflineCourse<span>)</span></td></tr><tr><td id="file-types-cs-L30" data-line-number="30"></td><td id="file-types-cs-LC30"><span>{</span></td></tr><tr><td id="file-types-cs-L31" data-line-number="31"></td><td id="file-types-cs-LC31"><span>// some code to do this...</span></td></tr><tr><td id="file-types-cs-L32" data-line-number="32"></td><td id="file-types-cs-LC32"><span>return</span> <span><span>"</span>TODO: get the download URL<span>"</span></span><span>;</span></td></tr><tr><td id="file-types-cs-L33" data-line-number="33"></td><td id="file-types-cs-LC33"><span>}</span></td></tr><tr><td id="file-types-cs-L34" data-line-number="34"></td><td id="file-types-cs-LC34"></td></tr><tr><td id="file-types-cs-L35" data-line-number="35"></td><td id="file-types-cs-LC35"><span>return</span> <span>null</span><span>;</span></td></tr><tr><td id="file-types-cs-L36" data-line-number="36"></td><td id="file-types-cs-LC36"><span>}</span></td></tr><tr><td id="file-types-cs-L37" data-line-number="37"></td><td id="file-types-cs-LC37"></td></tr><tr><td id="file-types-cs-L38" data-line-number="38"></td><td id="file-types-cs-LC38"><span>public</span> <span><span>string</span><span>?</span></span> <span>GetDefaultDownloadFileName</span><span>(</span><span>Product</span> <span>product</span><span>)</span></td></tr><tr><td id="file-types-cs-L39" data-line-number="39"></td><td id="file-types-cs-LC39"><span>{</span></td></tr><tr><td id="file-types-cs-L40" data-line-number="40"></td><td id="file-types-cs-LC40"><span>if</span> <span>(</span>product <span>is</span> <span>Template</span> <span>||</span></td></tr><tr><td id="file-types-cs-L41" data-line-number="41"></td><td id="file-types-cs-LC41">product <span>is</span> Ebook<span>||</span></td></tr><tr><td id="file-types-cs-L42" data-line-number="42"></td><td id="file-types-cs-LC42">product <span>is</span> OfflineCourse<span>)</span></td></tr><tr><td id="file-types-cs-L43" data-line-number="43"></td><td id="file-types-cs-LC43"><span>{</span></td></tr><tr><td id="file-types-cs-L44" data-line-number="44"></td><td id="file-types-cs-LC44"><span>// some code to do this...</span></td></tr><tr><td id="file-types-cs-L45" data-line-number="45"></td><td id="file-types-cs-LC45"><span>return</span> <span><span>"</span>TODO: get the file name<span>"</span></span><span>;</span></td></tr><tr><td id="file-types-cs-L46" data-line-number="46"></td><td id="file-types-cs-LC46"><span>}</span></td></tr><tr><td id="file-types-cs-L47" data-line-number="47"></td><td id="file-types-cs-LC47"></td></tr><tr><td id="file-types-cs-L48" data-line-number="48"></td><td id="file-types-cs-LC48"><span>return</span> <span>null</span><span>;</span></td></tr><tr><td id="file-types-cs-L49" data-line-number="49"></td><td id="file-types-cs-LC49"><span>}</span></td></tr><tr><td id="file-types-cs-L50" data-line-number="50"></td><td id="file-types-cs-LC50"><span>}</span></td></tr></tbody></table>

We can take this a bit further and instead define a base class that has a few virtual methods that we can override. More importantly, we can use an option type as the return value or none.

<table data-hpc="" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-lang="C#" data-tagsearch-path="Override.cs"><tbody><tr><td id="file-override-cs-L1" data-line-number="1"></td><td id="file-override-cs-LC1"><span>public</span> <span>class</span> Product<span>(</span><span>int</span> id<span>,</span> OfferingType type<span>)</span></td></tr><tr><td id="file-override-cs-L2" data-line-number="2"></td><td id="file-override-cs-LC2"><span>{</span></td></tr><tr><td id="file-override-cs-L3" data-line-number="3"></td><td id="file-override-cs-LC3"><span>public</span> <span>virtual</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDownloadUrl</span><span>(</span><span>)</span></td></tr><tr><td id="file-override-cs-L4" data-line-number="4"></td><td id="file-override-cs-LC4"><span>{</span></td></tr><tr><td id="file-override-cs-L5" data-line-number="5"></td><td id="file-override-cs-LC5"><span>return</span> Option<span>.</span><span>None</span><span>&lt;</span><span>string</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L6" data-line-number="6"></td><td id="file-override-cs-LC6"><span>}</span></td></tr><tr><td id="file-override-cs-L7" data-line-number="7"></td><td id="file-override-cs-LC7"></td></tr><tr><td id="file-override-cs-L8" data-line-number="8"></td><td id="file-override-cs-LC8"><span>public</span> <span>virtual</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDefaultDownloadFileName</span><span>(</span><span>)</span></td></tr><tr><td id="file-override-cs-L9" data-line-number="9"></td><td id="file-override-cs-LC9"><span>{</span></td></tr><tr><td id="file-override-cs-L10" data-line-number="10"></td><td id="file-override-cs-LC10"><span>return</span> Option<span>.</span><span>None</span><span>&lt;</span><span>string</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L11" data-line-number="11"></td><td id="file-override-cs-LC11"><span>}</span></td></tr><tr><td id="file-override-cs-L12" data-line-number="12"></td><td id="file-override-cs-LC12"><span>}</span></td></tr><tr><td id="file-override-cs-L13" data-line-number="13"></td><td id="file-override-cs-LC13"></td></tr><tr><td id="file-override-cs-L14" data-line-number="14"></td><td id="file-override-cs-LC14"><span>public</span> <span>class</span> DownloadProduct<span>(</span><span>int</span> id<span>,</span> OfferingType type<span>)</span> <span>:</span> <span>Product</span><span>(</span><span>id</span><span>,</span> <span>type</span><span>)</span></td></tr><tr><td id="file-override-cs-L15" data-line-number="15"></td><td id="file-override-cs-LC15"><span>{</span></td></tr><tr><td id="file-override-cs-L16" data-line-number="16"></td><td id="file-override-cs-LC16"><span>public</span> <span>override</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDefaultDownloadFileName</span><span>(</span><span>)</span></td></tr><tr><td id="file-override-cs-L17" data-line-number="17"></td><td id="file-override-cs-LC17"><span>{</span></td></tr><tr><td id="file-override-cs-L18" data-line-number="18"></td><td id="file-override-cs-LC18"><span>return</span> Option<span>.</span><span>Some</span><span>(</span><span><span>"</span>Some Value<span>"</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L19" data-line-number="19"></td><td id="file-override-cs-LC19"><span>}</span></td></tr><tr><td id="file-override-cs-L20" data-line-number="20"></td><td id="file-override-cs-LC20"></td></tr><tr><td id="file-override-cs-L21" data-line-number="21"></td><td id="file-override-cs-LC21"><span>public</span> <span>override</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDownloadUrl</span><span>(</span><span>)</span></td></tr><tr><td id="file-override-cs-L22" data-line-number="22"></td><td id="file-override-cs-LC22"><span>{</span></td></tr><tr><td id="file-override-cs-L23" data-line-number="23"></td><td id="file-override-cs-LC23"><span>return</span> Option<span>.</span><span>Some</span><span>(</span><span><span>"</span>Some Value<span>"</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L24" data-line-number="24"></td><td id="file-override-cs-LC24"><span>}</span></td></tr><tr><td id="file-override-cs-L25" data-line-number="25"></td><td id="file-override-cs-LC25"><span>}</span></td></tr><tr><td id="file-override-cs-L26" data-line-number="26"></td><td id="file-override-cs-LC26"></td></tr><tr><td id="file-override-cs-L27" data-line-number="27"></td><td id="file-override-cs-LC27"><span>public</span> <span>class</span> Course<span>(</span><span>int</span> id<span>,</span> OfferingType type<span>)</span> <span>:</span> <span>Product</span><span>(</span><span>id</span><span>,</span> <span>type</span><span>)</span></td></tr><tr><td id="file-override-cs-L28" data-line-number="28"></td><td id="file-override-cs-LC28"><span>{</span></td></tr><tr><td id="file-override-cs-L29" data-line-number="29"></td><td id="file-override-cs-LC29"><span>public</span> <span>override</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDefaultDownloadFileName</span><span>(</span><span>)</span></td></tr><tr><td id="file-override-cs-L30" data-line-number="30"></td><td id="file-override-cs-LC30"><span>{</span></td></tr><tr><td id="file-override-cs-L31" data-line-number="31"></td><td id="file-override-cs-LC31"><span>return</span> Option<span>.</span><span>None</span><span>&lt;</span><span>string</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L32" data-line-number="32"></td><td id="file-override-cs-LC32"><span>}</span></td></tr><tr><td id="file-override-cs-L33" data-line-number="33"></td><td id="file-override-cs-LC33"></td></tr><tr><td id="file-override-cs-L34" data-line-number="34"></td><td id="file-override-cs-LC34"><span>public</span> <span>override</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDownloadUrl</span><span>(</span><span>)</span></td></tr><tr><td id="file-override-cs-L35" data-line-number="35"></td><td id="file-override-cs-LC35"><span>{</span></td></tr><tr><td id="file-override-cs-L36" data-line-number="36"></td><td id="file-override-cs-LC36"><span>return</span> Option<span>.</span><span>None</span><span>&lt;</span><span>string</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L37" data-line-number="37"></td><td id="file-override-cs-LC37"><span>}</span></td></tr><tr><td id="file-override-cs-L38" data-line-number="38"></td><td id="file-override-cs-LC38"><span>}</span></td></tr><tr><td id="file-override-cs-L39" data-line-number="39"></td><td id="file-override-cs-LC39"></td></tr><tr><td id="file-override-cs-L40" data-line-number="40"></td><td id="file-override-cs-LC40"><span>public</span> <span>sealed</span> <span>class</span> <span>ProductHandler</span><span>(</span><span>)</span></td></tr><tr><td id="file-override-cs-L41" data-line-number="41"></td><td id="file-override-cs-LC41"><span>{</span></td></tr><tr><td id="file-override-cs-L42" data-line-number="42"></td><td id="file-override-cs-LC42"><span>public</span> <span>void</span> <span>DoStuff</span><span>(</span><span>Product</span> <span>product</span><span>)</span></td></tr><tr><td id="file-override-cs-L43" data-line-number="43"></td><td id="file-override-cs-LC43"><span>{</span></td></tr><tr><td id="file-override-cs-L44" data-line-number="44"></td><td id="file-override-cs-LC44">product<span>.</span><span>GetDefaultDownloadFileName</span><span>(</span><span>)</span><span>.</span><span>MatchSome</span><span>(</span></td></tr><tr><td id="file-override-cs-L45" data-line-number="45"></td><td id="file-override-cs-LC45"><span>filename <span>=&gt;</span></span></td></tr><tr><td id="file-override-cs-L46" data-line-number="46"></td><td id="file-override-cs-LC46"><span><span>{</span></span></td></tr><tr><td id="file-override-cs-L47" data-line-number="47"></td><td id="file-override-cs-LC47"><span><span>// Do something with the filename.</span></span></td></tr><tr><td id="file-override-cs-L48" data-line-number="48"></td><td id="file-override-cs-LC48"><span><span>}</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L49" data-line-number="49"></td><td id="file-override-cs-LC49"></td></tr><tr><td id="file-override-cs-L50" data-line-number="50"></td><td id="file-override-cs-LC50">product<span>.</span><span>GetDownloadUrl</span><span>(</span><span>)</span><span>.</span><span>MatchSome</span><span>(</span></td></tr><tr><td id="file-override-cs-L51" data-line-number="51"></td><td id="file-override-cs-LC51"><span>url <span>=&gt;</span></span></td></tr><tr><td id="file-override-cs-L52" data-line-number="52"></td><td id="file-override-cs-LC52"><span><span>{</span></span></td></tr><tr><td id="file-override-cs-L53" data-line-number="53"></td><td id="file-override-cs-LC53"><span><span>// Do something with the url</span></span></td></tr><tr><td id="file-override-cs-L54" data-line-number="54"></td><td id="file-override-cs-LC54"><span><span>}</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-override-cs-L55" data-line-number="55"></td><td id="file-override-cs-LC55"><span>}</span></td></tr><tr><td id="file-override-cs-L56" data-line-number="56"></td><td id="file-override-cs-LC56"><span>}</span></td></tr></tbody></table>

We’ve removed the conditionals and are handling the Option type when there is a value with calling Match(). While not the same, at all, you could make the return type a nullable string and deal with a nullable.

We can keep taking this further and make an abstract class of a product as we did before, but we don’t need to override anything; instead, we explicitly have a type that implements using a downloadable product.

<table data-hpc="" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-lang="C#" data-tagsearch-path="Abstract.cs"><tbody><tr><td id="file-abstract-cs-L1" data-line-number="1"></td><td id="file-abstract-cs-LC1"><span>public</span> <span>abstract</span> <span>class</span> Product<span>(</span><span>int</span> id<span>,</span> OfferingType type<span>)</span> <span>{</span> <span>}</span></td></tr><tr><td id="file-abstract-cs-L2" data-line-number="2"></td><td id="file-abstract-cs-LC2"></td></tr><tr><td id="file-abstract-cs-L3" data-line-number="3"></td><td id="file-abstract-cs-LC3"><span>public</span> <span>class</span> DownloadableProduct<span>(</span><span>int</span> id<span>,</span> OfferingType type<span>)</span> <span>:</span> <span>Product</span><span>(</span><span>id</span><span>,</span> <span>type</span><span>)</span></td></tr><tr><td id="file-abstract-cs-L4" data-line-number="4"></td><td id="file-abstract-cs-LC4"><span>{</span></td></tr><tr><td id="file-abstract-cs-L5" data-line-number="5"></td><td id="file-abstract-cs-LC5"><span>public</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDefaultDownloadFileName</span><span>(</span><span>)</span></td></tr><tr><td id="file-abstract-cs-L6" data-line-number="6"></td><td id="file-abstract-cs-LC6"><span>{</span></td></tr><tr><td id="file-abstract-cs-L7" data-line-number="7"></td><td id="file-abstract-cs-LC7"><span>return</span> Option<span>.</span><span>Some</span><span>(</span><span><span>"</span>Some Value<span>"</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-abstract-cs-L8" data-line-number="8"></td><td id="file-abstract-cs-LC8"><span>}</span></td></tr><tr><td id="file-abstract-cs-L9" data-line-number="9"></td><td id="file-abstract-cs-LC9"></td></tr><tr><td id="file-abstract-cs-L10" data-line-number="10"></td><td id="file-abstract-cs-LC10"><span>public</span> <span>Option</span><span>&lt;</span><span>string</span><span>&gt;</span> <span>GetDownloadUrl</span><span>(</span><span>)</span></td></tr><tr><td id="file-abstract-cs-L11" data-line-number="11"></td><td id="file-abstract-cs-LC11"><span>{</span></td></tr><tr><td id="file-abstract-cs-L12" data-line-number="12"></td><td id="file-abstract-cs-LC12"><span>return</span> Option<span>.</span><span>Some</span><span>(</span><span><span>"</span>Some Value<span>"</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-abstract-cs-L13" data-line-number="13"></td><td id="file-abstract-cs-LC13"><span>}</span></td></tr><tr><td id="file-abstract-cs-L14" data-line-number="14"></td><td id="file-abstract-cs-LC14"><span>}</span></td></tr><tr><td id="file-abstract-cs-L15" data-line-number="15"></td><td id="file-abstract-cs-LC15"></td></tr><tr><td id="file-abstract-cs-L16" data-line-number="16"></td><td id="file-abstract-cs-LC16"><span>public</span> <span>sealed</span> <span>class</span> <span>ProductHandler</span><span>(</span><span>)</span></td></tr><tr><td id="file-abstract-cs-L17" data-line-number="17"></td><td id="file-abstract-cs-LC17"><span>{</span></td></tr><tr><td id="file-abstract-cs-L18" data-line-number="18"></td><td id="file-abstract-cs-LC18"><span>public</span> <span>void</span> <span>DoStuff</span><span>(</span><span>DownloadableProduct</span> <span>product</span><span>)</span></td></tr><tr><td id="file-abstract-cs-L19" data-line-number="19"></td><td id="file-abstract-cs-LC19"><span>{</span></td></tr><tr><td id="file-abstract-cs-L20" data-line-number="20"></td><td id="file-abstract-cs-LC20">product<span>.</span><span>GetDefaultDownloadFileName</span><span>(</span><span>)</span><span>.</span><span>MatchSome</span><span>(</span></td></tr><tr><td id="file-abstract-cs-L21" data-line-number="21"></td><td id="file-abstract-cs-LC21"><span>filename <span>=&gt;</span></span></td></tr><tr><td id="file-abstract-cs-L22" data-line-number="22"></td><td id="file-abstract-cs-LC22"><span><span>{</span></span></td></tr><tr><td id="file-abstract-cs-L23" data-line-number="23"></td><td id="file-abstract-cs-LC23"><span><span>// Do something with the filename.</span></span></td></tr><tr><td id="file-abstract-cs-L24" data-line-number="24"></td><td id="file-abstract-cs-LC24"><span><span>}</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-abstract-cs-L25" data-line-number="25"></td><td id="file-abstract-cs-LC25"></td></tr><tr><td id="file-abstract-cs-L26" data-line-number="26"></td><td id="file-abstract-cs-LC26">product<span>.</span><span>GetDownloadUrl</span><span>(</span><span>)</span><span>.</span><span>MatchSome</span><span>(</span></td></tr><tr><td id="file-abstract-cs-L27" data-line-number="27"></td><td id="file-abstract-cs-LC27"><span>url <span>=&gt;</span></span></td></tr><tr><td id="file-abstract-cs-L28" data-line-number="28"></td><td id="file-abstract-cs-LC28"><span><span>{</span></span></td></tr><tr><td id="file-abstract-cs-L29" data-line-number="29"></td><td id="file-abstract-cs-LC29"><span><span>// Do something with the url</span></span></td></tr><tr><td id="file-abstract-cs-L30" data-line-number="30"></td><td id="file-abstract-cs-LC30"><span><span>}</span></span><span>)</span><span>;</span></td></tr><tr><td id="file-abstract-cs-L31" data-line-number="31"></td><td id="file-abstract-cs-LC31"><span>}</span></td></tr><tr><td id="file-abstract-cs-L32" data-line-number="32"></td><td id="file-abstract-cs-LC32"><span>}</span></td></tr></tbody></table>

We aren’t handling a base type; we’re explicitly handling a DownloadableProduct. We would have other handlers, or any other code would have different code paths for different offerings.

Or we can go back with our initial conditionals but instead just use an extension method on our enum to group all of the valid offering types to simply our conditional checks.

<table data-hpc="" data-tab-size="8" data-paste-markdown-skip="" data-tagsearch-lang="C#" data-tagsearch-path="Extension.cs"><tbody><tr><td id="file-extension-cs-L1" data-line-number="1"></td><td id="file-extension-cs-LC1"><span>public</span> <span><span>static</span></span> <span>class</span> <span>Extensions</span></td></tr><tr><td id="file-extension-cs-L2" data-line-number="2"></td><td id="file-extension-cs-LC2"><span>{</span></td></tr><tr><td id="file-extension-cs-L3" data-line-number="3"></td><td id="file-extension-cs-LC3"><span>public</span> <span><span>static</span></span> <span>bool</span> <span>IsDownloadable</span><span>(</span><span>this</span> <span>OfferingType</span> <span>offeringType</span><span>)</span></td></tr><tr><td id="file-extension-cs-L4" data-line-number="4"></td><td id="file-extension-cs-LC4"><span>{</span></td></tr><tr><td id="file-extension-cs-L5" data-line-number="5"></td><td id="file-extension-cs-LC5"><span>var</span> <span>validOfferings</span> <span>=</span> <span>new</span> <span>List</span><span>&lt;</span><span>OfferingType</span><span>&gt;</span><span>(</span><span>)</span></td></tr><tr><td id="file-extension-cs-L6" data-line-number="6"></td><td id="file-extension-cs-LC6"><span>{</span></td></tr><tr><td id="file-extension-cs-L7" data-line-number="7"></td><td id="file-extension-cs-LC7">OfferingType<span>.</span>Template<span>,</span></td></tr><tr><td id="file-extension-cs-L8" data-line-number="8"></td><td id="file-extension-cs-LC8">OfferingType<span>.</span>Ebook<span>,</span></td></tr><tr><td id="file-extension-cs-L9" data-line-number="9"></td><td id="file-extension-cs-LC9">OfferingType<span>.</span>OfflineCourse</td></tr><tr><td id="file-extension-cs-L10" data-line-number="10"></td><td id="file-extension-cs-LC10"><span>}</span><span>;</span></td></tr><tr><td id="file-extension-cs-L11" data-line-number="11"></td><td id="file-extension-cs-LC11"></td></tr><tr><td id="file-extension-cs-L12" data-line-number="12"></td><td id="file-extension-cs-LC12"><span>return</span> validOfferings<span>.</span><span>Contains</span><span>(</span>offeringType<span>)</span><span>;</span></td></tr><tr><td id="file-extension-cs-L13" data-line-number="13"></td><td id="file-extension-cs-LC13"><span>}</span></td></tr><tr><td id="file-extension-cs-L14" data-line-number="14"></td><td id="file-extension-cs-LC14"><span>}</span></td></tr><tr><td id="file-extension-cs-L15" data-line-number="15"></td><td id="file-extension-cs-LC15"></td></tr><tr><td id="file-extension-cs-L16" data-line-number="16"></td><td id="file-extension-cs-LC16"><span>public</span> <span>sealed</span> <span>class</span> <span>ProductHandler</span><span>(</span>ResourcesHelper resourcesHelper<span>)</span></td></tr><tr><td id="file-extension-cs-L17" data-line-number="17"></td><td id="file-extension-cs-LC17"><span>{</span></td></tr><tr><td id="file-extension-cs-L18" data-line-number="18"></td><td id="file-extension-cs-LC18"><span>public</span> <span>void</span> <span>DoStuff</span><span>(</span><span>Product</span> <span>product</span><span>)</span></td></tr><tr><td id="file-extension-cs-L19" data-line-number="19"></td><td id="file-extension-cs-LC19"><span>{</span></td></tr><tr><td id="file-extension-cs-L20" data-line-number="20"></td><td id="file-extension-cs-LC20"><span>if</span> <span>(</span>product<span>.</span>Type<span>.</span><span>IsDownloadable</span><span>(</span><span>)</span><span>)</span></td></tr><tr><td id="file-extension-cs-L21" data-line-number="21"></td><td id="file-extension-cs-LC21"><span>{</span></td></tr><tr><td id="file-extension-cs-L22" data-line-number="22"></td><td id="file-extension-cs-LC22"><span>var</span> <span>fileName</span> <span>=</span> resourcesHelper<span>.</span><span>GetDefaultDownloadFileName</span><span>(</span>product<span>.</span>Type<span>)</span><span>;</span></td></tr><tr><td id="file-extension-cs-L23" data-line-number="23"></td><td id="file-extension-cs-LC23"><span>var</span> <span>downloadUrl</span> <span>=</span> resourcesHelper<span>.</span><span>GetDownloadUrl</span><span>(</span>product<span>.</span>Type<span>)</span><span>;</span></td></tr><tr><td id="file-extension-cs-L24" data-line-number="24"></td><td id="file-extension-cs-LC24"><span>}</span></td></tr><tr><td id="file-extension-cs-L25" data-line-number="25"></td><td id="file-extension-cs-LC25"></td></tr><tr><td id="file-extension-cs-L26" data-line-number="26"></td><td id="file-extension-cs-LC26"><span>}</span></td></tr><tr><td id="file-extension-cs-L27" data-line-number="27"></td><td id="file-extension-cs-LC27"><span>}</span></td></tr></tbody></table>

## Conditional Statements

You don’t have to have the same repetitive conditions statements against enums. There are many different ways of dealing with them as an alternative. Which solution works best is dependent on your situation. Could you delegate it to runtime and are fine with the additional I/O DB call? Maybe that will work. Maybe that will be terrible system performance.

Maybe you’d rather define explicit types and handle them on their own path rather than try to deal with them all together. If you were to make a Venn diagram, how similar are the two concepts, an offering in this example? Sometimes what we think are the same thing aren’t at all and should be explicitly modeled as unique things based on what the capabilities are around them.

**Join CodeOpinon!**  
Developer-level members of my [Patreon](https://www.patreon.com/codeopinion) or [YouTube channel](https://www.youtube.com/channel/UC3RKA4vunFAfrfxiJhPEplw/join) get access to a private Discord server to chat with other developers about Software Architecture and Design and access to source code for any working demo application I post on my blog or YouTube. Check out my [Patreon](https://www.patreon.com/codeopinion) or [YouTube Membership](https://www.youtube.com/channel/UC3RKA4vunFAfrfxiJhPEplw/join) for more info.

-   [5 Tips for Building Resilient Architecture](https://codeopinion.com/5-tips-for-building-resilient-architecture/)
-   [The Bulkhead Pattern: How To Make Your System Fault-tolerant](https://codeopinion.com/the-bulkhead-pattern-how-to-make-your-system-fault-tolerant/)[](https://www.youtube.com/@CodeOpinion)
